<!DOCTYPE html>
<html xmlns:v-bind="http://www.w3.org/2001/XMLSchema">
<head>
    <!--    <link rel="shortcut icon" type="image/x-icon" href="img/icon.png"/>-->
    <title>Blockchain Software Engineering Research</title>
    <link href="css/bootstrap.css" rel="stylesheet"/>
    <!--    <link href="css/nav.css" rel="stylesheet"/>-->
    <!--    <link href="css/style.css" rel="stylesheet"/>-->
    <script src="js/jquery-3.3.1.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/vue.min.js"></script>
    <script src="js/components/list.js"></script>
    <script src="js/components/entry.js"></script>
    <script src="js/components/filter.js"></script>
</head>
<body>
<!--<div class="header">-->
<!--    <div class="container d-flex align-items-center h-100">-->
<!--        <div class="head-logo">-->
<!--            <a href="http://sccpu2.cse.ust.hk/castle/index.html">-->
<!--                <img src="img/castle-white.png" alt=" " height="68px">-->
<!--            </a>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<div id="app">
    <div class="container">
        <h2 class="mt-5">Paper List: </h2>
        <filter-component class="mt-3" v-bind:tags='tags' v-on:tags="onChangeTags" v-on:keywords="onChangeKeywords"
                          v-on:sortedby="onChangeSortedBy" v-on:reverse="onReverse"></filter-component>
        <list class="mt-3" v-bind:entry-list='paperList' v-bind:tags="checkedTags" v-bind:keywords="keywords"
              v-bind:sortedby="sortedBy" v-bind:reverse="reverse"></list>
    </div>
</div>
<!--<div class="footer">-->
<!--    <div class="container">-->
<!--        <div class="footer-text">-->
<!--            Â© CASTLE Group | <a href="http://www.cse.ust.hk">CSE in HKUST</a> | last updated: 10 Nov, 2019-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<script>
    new Vue({
        el: "#app",
        data: {
            paperList: [],
            tags: [],
            checkedTags: [],
            keywords: [],
            sortedBy: "title",
            reverse: false,
        },
        created: function () {
            let vue = this;
            $.getJSON("../data/paper_list.json", function (data) {
                data.forEach(function (entry) {
                    this.paperList.push(entry);
                    entry.tags.forEach(function (tag) {
                        if (!this.tags.includes(tag)) {
                            this.tags.push(tag);
                        }
                    }, this);
                }, vue);
            });
        },
        methods: {
            onChangeTags: function (tags) {
                this.checkedTags = tags;
            },
            onChangeKeywords: function (kws) {
                this.keywords = kws;
            },
            onChangeSortedBy: function (column) {
                this.sortedBy = column;
            },
            onReverse: function (reverse) {
                this.reverse = reverse;
            }
        }
    });

    $(function () {

    })

</script>
</body>
</html>
